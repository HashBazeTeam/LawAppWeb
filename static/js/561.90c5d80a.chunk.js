"use strict";(self.webpackChunkLaw_web_app=self.webpackChunkLaw_web_app||[]).push([[561],{41618:function(e,t,n){n.d(t,{x:function(){return r}});var r={yetToBePicked:"Yet to be picked",ongoing:"Ongoing",answered:"Answered",timeUP:"Time up",assistance:"Assistance",ended:"Ended"}},5561:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(4942),a=n(1413),u=n(37762),s=n(93433),i=n(74165),c=n(15861),o=n(29439),l=n(29867),f=n(22030),d=n(69711),p=n(20602),v=n(57660),h=n(82541),x=n(25087),Z=n(41618),g=n(83692),m=n(20716),b=n(92834),w=l.lazy((function(){return n.e(784).then(n.bind(n,7784))})),k=l.lazy((function(){return n.e(47).then(n.bind(n,68047))}));function y(e){var t,n=(0,p.$)().t,y=(0,f.I0)(),S=null===(t=e.location.state)||void 0===t?void 0:t.client,P=(0,f.v9)(m.wl.user.selectConfigs),D=(0,l.useState)([]),j=(0,o.Z)(D,2),_=j[0],E=j[1],F=(0,l.useState)(0),A=(0,o.Z)(F,2),I=A[0],N=A[1],T=(0,l.useState)(1),q=(0,o.Z)(T,2),H=q[0],M=q[1],O=(0,l.useState)(null),Q=(0,o.Z)(O,2),U=Q[0],z=Q[1],L=(0,l.useState)(!1),V=(0,o.Z)(L,2),B=V[0],J=V[1],Y=(0,l.useState)([]),$=(0,o.Z)(Y,2),G=$[0],K=$[1],R=(0,l.useState)(C),W=(0,o.Z)(R,2),X=W[0],ee=W[1],te=(0,l.useState)({}),ne=(0,o.Z)(te,2),re=ne[0],ae=(ne[1],(0,l.useState)([])),ue=(0,o.Z)(ae,2),se=ue[0],ie=ue[1],ce=(0,l.useState)(!1),oe=(0,o.Z)(ce,2),le=oe[0],fe=oe[1];(0,l.useEffect)((function(){return J(!0),de().catch((function(e){console.log(e),J(!1)})),function(){return!1}}),[]),(0,l.useEffect)((function(){return J(!0),de().catch((function(e){console.log(e),J(!1)})),J(!1),function(){return!1}}),[S]),(0,l.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(m.CJ.user.getConfigs());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e().catch((function(e){console.log(e)})),function(){!1}}),[]);var de=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var r,a,u,s,c,o,l,f,p,v,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J(!0),e.prev=1,!S||null==S.clientID){e.next=14;break}return e.next=5,x.MH.getClientQuestion(S.clientID,20,U,t);case 5:s=e.sent,c=s.questions,o=s.totalCount,l=s.lastVisible,r=c,a=o,u=l,e.next=23;break;case 14:return e.next=16,x.MH.getAllQuestions(X.status,20,U,t);case 16:f=e.sent,p=f.questions,v=f.totalCount,h=f.lastVisible,r=p,a=v,u=h;case 23:E(r),K(r),z(u),N(Math.ceil(a/20)),J(!1),fe(!le),e.next=36;break;case 31:e.prev=31,e.t0=e.catch(1),console.log(e.t0),d.Am.error(n("common_error")),J(!1);case 36:J(!1);case 37:case"end":return e.stop()}}),e,null,[[1,31]])})));return function(t){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r,a,c,o,l,f,d,p,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,s.Z)(_),n=new Set,r=(0,u.Z)(t),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=20;break}if(c=a.value,n.add(c.country),c.status!=Z.x.answered){e.next=18;break}if(o=(0,g._d)(c.answerDateTime),l=new Date,f=(l-o)/36e5,d=(null===P||void 0===P?void 0:P.expiryTime)||24,!(f>d)){e.next=18;break}return c.status=Z.x.timeUP,e.next=18,x.MH.updateQuestion(c.questionID,{status:Z.x.timeUP});case 18:e.next=5;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),r.e(e.t0);case 25:return e.prev=25,r.f(),e.finish(25);case 28:p=Array.from(n),v=p.map((function(e){return{value:e,label:e}})),ie(v),E(t);case 32:case"end":return e.stop()}}),e,null,[[3,22,25,28]])})));return function(){return e.apply(this,arguments)}}();e()}),[le]);var pe=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=[n("topic"),n("date"),n("client_name"),n("country"),n("status"),"",""];return(0,b.jsx)(b.Fragment,{children:B?(0,b.jsxs)("div",{className:"flex justify-center bg-slate-50",children:[" ",(0,v.TF)("lg")," "]}):(0,b.jsx)("div",{className:"mt-8",children:(0,b.jsx)(w,{accounts:G,maxPages:I,pageNumber:H,setPageNumber:M,tableHeaderCells:ve,filters:X,filterErrors:re,filterOptions:{filterCountries:se},handleFilterChange:function(e){var t=e.target,n=t.name,u=t.value;ee((0,a.Z)((0,a.Z)({},X),{},(0,r.Z)({},n,u)))},handleFilterSubmit:function(e){e.preventDefault();var t=(0,h.ZP)(X);if(0!=Object.keys(t).length){var n=_.filter((function(e){for(var n in t)if(t[n]!=e[n])return!1;return!0}));K(n)}else K(_)},handleClearFilter:function(){ee(C),K(_)},handlePageChangePrevious:function(){1==H||M(H-1),de("previous")},handlePageChangeNext:function(){H==I||M(H+1),de("next")},showFilter:null==(null===S||void 0===S?void 0:S.clientID),reloadData:pe,children:(0,b.jsx)(k,{questions:G})})})})}var C={status:"",country:""}}}]);
//# sourceMappingURL=561.90c5d80a.chunk.js.map