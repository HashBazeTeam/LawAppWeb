"use strict";(self.webpackChunkLaw_web_app=self.webpackChunkLaw_web_app||[]).push([[561],{41618:function(e,t,n){n.d(t,{x:function(){return r}});var r={yetToBePicked:"Yet to be picked",ongoing:"Ongoing",answered:"Answered",timeUP:"Time up",assistance:"Assistance",ended:"Ended"}},5561:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(4942),a=n(1413),u=n(74165),s=n(15861),i=n(29439),c=n(29867),o=n(22030),l=n(69711),f=n(20602),d=n(57660),p=n(82541),v=n(25087),h=n(41618),x=n(83692),g=n(20716),Z=n(92834),m=c.lazy((function(){return n.e(784).then(n.bind(n,7784))})),w=c.lazy((function(){return n.e(47).then(n.bind(n,68047))}));function b(e){var t,n=(0,f.$)().t,b=(0,o.I0)(),C=null===(t=e.location.state)||void 0===t?void 0:t.client,y=(0,o.v9)(g.wl.user.selectConfigs),P=(0,c.useState)([]),S=(0,i.Z)(P,2),D=S[0],j=S[1],F=(0,c.useState)(0),_=(0,i.Z)(F,2),E=_[0],I=_[1],N=(0,c.useState)(1),T=(0,i.Z)(N,2),q=T[0],A=T[1],H=(0,c.useState)(null),M=(0,i.Z)(H,2),Q=M[0],U=M[1],z=(0,c.useState)(!1),L=(0,i.Z)(z,2),V=L[0],B=L[1],J=(0,c.useState)([]),O=(0,i.Z)(J,2),Y=O[0],$=O[1],G=(0,c.useState)(k),K=(0,i.Z)(G,2),R=K[0],W=K[1],X=(0,c.useState)({}),ee=(0,i.Z)(X,2),te=ee[0];ee[1];(0,c.useEffect)((function(){return B(!0),ne().catch((function(e){console.log(e),B(!1)})),function(){return!1}}),[]),(0,c.useEffect)((function(){return B(!0),ne().catch((function(e){console.log(e),B(!1)})),B(!1),function(){return!1}}),[C]),(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(g.CJ.user.getConfigs());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e().catch((function(e){console.log(e)})),function(){!1}}),[]);var ne=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var r,a,i,c,o,f,d,p,g,Z,m,w;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(!0),e.prev=1,!C||null==C.clientID){e.next=14;break}return e.next=5,v.MH.getClientQuestion(C.clientID,20,Q,t);case 5:c=e.sent,o=c.questions,f=c.totalCount,d=c.lastVisible,r=o,a=f,i=d,e.next=23;break;case 14:return e.next=16,v.MH.getAllQuestions(R.status,20,Q,t);case 16:p=e.sent,g=p.questions,Z=p.totalCount,m=p.lastVisible,r=g,a=Z,i=m;case 23:w=r.map(function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r,a,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.status!=h.x.answered){e.next=10;break}if(n=(0,x._d)(t.answerDateTime),r=new Date,a=(r-n)/36e5,s=(null===y||void 0===y?void 0:y.expiryTime)||24,!(a>s)){e.next=10;break}return t.status=h.x.timeUP,e.next=10,v.MH.updateQuestion(t.questionID,{status:h.x.timeUP});case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j(w),$(r),U(i),I(Math.ceil(a/20)),B(!1),e.next=36;break;case 31:e.prev=31,e.t0=e.catch(1),console.log(e.t0),l.Am.error(n("common_error")),B(!1);case 36:B(!1);case 37:case"end":return e.stop()}}),e,null,[[1,31]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=[n("topic"),n("date"),n("country"),n("status"),"",""];return(0,Z.jsx)(Z.Fragment,{children:V?(0,Z.jsxs)("div",{className:"flex justify-center bg-slate-50",children:[" ",(0,d.TF)("lg")," "]}):(0,Z.jsx)("div",{className:"mt-8",children:(0,Z.jsx)(m,{accounts:Y,maxPages:E,pageNumber:q,setPageNumber:A,tableHeaderCells:ae,filters:R,filterErrors:te,handleFilterChange:function(e){var t=e.target,n=t.name,u=t.value;W((0,a.Z)((0,a.Z)({},R),{},(0,r.Z)({},n,u)))},handleFilterSubmit:function(e){e.preventDefault();var t=(0,p.ZP)(R),n=D.filter((function(e){for(var n in t)if(t[n]!=e[n])return!1;return!0}));$(n)},handleClearFilter:function(){W(k),$(D)},handlePageChangePrevious:function(){1==q||A(q-1),ne("previous")},handlePageChangeNext:function(){q==E||A(q+1),ne("next")},showFilter:null==(null===C||void 0===C?void 0:C.clientID),reloadData:re,children:(0,Z.jsx)(w,{questions:Y})})})})}var k={status:""}}}]);
//# sourceMappingURL=561.cd2d72b5.chunk.js.map