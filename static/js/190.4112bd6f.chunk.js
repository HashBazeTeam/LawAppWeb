"use strict";(self.webpackChunkLaw_web_app=self.webpackChunkLaw_web_app||[]).push([[190],{6451:function(e,r,n){n.d(r,{Tz:function(){return i},dM:function(){return u},sA:function(){return s}});var a=n(4942),l=(n(29867),n(4904)),t=(n(68803),n(10444)),o=n(92834);function u(e){var r=e.label,n=e.name,a=e.placeholder,t=e.value,u=e.onChange,s=e.error,i=e.readOnly,c=void 0!==i&&i,d=e.mdSize,m=void 0===d?12:d,p=e.type,h=void 0===p?"text":p,b=e.required,v=void 0===b||b,f=e.multiple,x=void 0===f||f,y=e.uppercase,g=void 0!==y&&y,N=e.inputClassName,j=void 0===N?"":N;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.b7,{className:"mb-3",xs:12,md:m,children:[(0,o.jsx)(l.L8,{htmlFor:n,className:g?"uppercase":"",children:"".concat(r).concat(v?"*":"")}),(0,o.jsx)(l.jO,{disabled:c,type:h,className:"!bg-white ".concat(j),readOnly:c,id:n,name:n,onChange:u,value:t,invalid:!!s,placeholder:a,multiple:x}),(0,o.jsx)(l.CO,{invalid:!0,children:s})]})})}function s(e){var r,n=e.label,u=e.name,s=(e.placeholder,e.value),i=e.onChange,c=e.error,d=e.readOnly,m=void 0!==d&&d,p=e.mdSize,h=void 0===p?12:p,b=e.required,v=void 0===b||b,f=(e.multiple,e.uppercase),x=void 0!==f&&f;e.inputClassName;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.b7,{className:"mb-3",xs:12,md:h,children:[(0,o.jsx)(l.L8,{htmlFor:u,className:x?"uppercase":"",children:"".concat(n).concat(v?"*":"")}),(0,o.jsx)(t.ZP,{name:u,value:s,onChange:i,defaultCountry:"LK",readOnly:m,style:(r={width:"100%",borderColor:"red",padding:"15px",marginBottom:"4px",height:40,borderWidth:"1px",borderStyle:"solid"},(0,a.Z)(r,"borderColor",c?"red":"#ced4da"),(0,a.Z)(r,"backgroundColor","#fff"),r)}),(0,o.jsx)(l.CO,{invalid:!!c,children:c})]})})}function i(e){var r=e.label,n=e.name,a=(e.placeholder,e.onChange),t=e.error,u=e.mdSize,s=void 0===u?12:u,i=e.required,c=void 0===i||i,d=e.uppercase,m=void 0!==d&&d,p=e.inputClassName,h=void 0===p?"":p,b=e.options,v=e.value,f=e.defaultValue;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.b7,{className:"mb-3",xs:12,md:s,children:[(0,o.jsx)(l.L8,{htmlFor:n,className:m?"uppercase":"",children:"".concat(r).concat(c?"*":"")}),(0,o.jsxs)(l.LX,{className:"!bg-white ".concat(h),name:n,defaultValue:f,onChange:a,"aria-label":"Default select example",invalid:!!t,value:v,children:[(0,o.jsx)("option",{children:"Open this select menu"}),b.map((function(e,r){return(0,o.jsx)("option",{value:e.value,children:e.label},r)}))]}),(0,o.jsx)(l.CO,{invalid:!0,children:t})]})})}},77190:function(e,r,n){n.r(r);var a=n(37762),l=n(4942),t=n(1413),o=n(74165),u=n(15861),s=n(29439),i=n(29867),c=n(22030),d=n(84669),m=n(69711),p=n(52506),h=n.n(p),b=n(4904),v=n(58730),f=n.n(v),x=n(20602),y=n(10444),g=(n(83692),n(25087)),N=n(74688),j=n(57660),C=n(6451),Z=n(92834);r.default=function(){(0,c.I0)();var e=(0,d.k6)(),r=(0,d.TH)().state.userID,n=(0,x.$)().t,p=(0,i.useState)(!1),v=(0,s.Z)(p,2),_=(v[0],v[1]),k=(0,i.useState)(w),O=(0,s.Z)(k,2),S=O[0],A=O[1],z=(0,i.useState)(w),q=(0,s.Z)(z,2),F=q[0],L=q[1],M=(0,i.useState)({}),D=(0,s.Z)(M,2),V=D[0],E=D[1],I=(0,i.useState)(!1),T=(0,s.Z)(I,2),B=T[0],P=T[1],H=(0,i.useState)(!1),K=(0,s.Z)(H,2),U=K[0],W=K[1],X=(0,i.useState)(!1),$=(0,s.Z)(X,2);$[0],$[1];(0,i.useEffect)((function(){var e=!0,a=function(){var a=(0,u.Z)((0,o.Z)().mark((function a(){var l;return(0,o.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,_(!0),a.next=4,g.tO.getAdminByID(r);case 4:(l=a.sent)&&e?(A(l),L(l)):m.Am.error(n("common_error")),_(!1),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0),_(!1),m.Am.error(n("common_error"));case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}();return a(),function(){return e=!1}}),[]);var G=h().object({fullName:h().string().optional().label("Full name"),country:h().string().optional().label("Country"),dob:h().date().optional().allow("").label("Date of birth").max("now"),email:h().string().email({tlds:{allow:!1}}).optional().allow("").label("Email"),phoneNumber:h().string().optional().label("Phone number")}),J=function(e){var r=e.target,n=r.name,a=r.value;r.files;delete V[n],A((0,t.Z)((0,t.Z)({},S),{},(0,l.Z)({},n,a)))},Q=function(){var e=(0,u.Z)((0,o.Z)().mark((function e(l){var u,s,i,c,d,p,h,b;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B){e.next=2;break}return e.abrupt("return");case 2:if(u=f().pick(S,["fullName","country","email","phoneNumber","dob"]),_(!0),s=G.validate(u,{abortEarly:!1}),i=s.error,s.value,c=!1,console.log(""!=S.phoneNumber),""==S.phoneNumber||(0,y.tm)(S.phoneNumber)||(_(!1),E((0,t.Z)((0,t.Z)({},V),{},{phoneNumber:"Invalid phone number"})),c=!0),i||c){e.next=26;break}return e.prev=9,e.next=12,g.tO.updateAdmin(r,u);case 12:L(u),A(u),m.Am.success(n("common_success")),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0),m.Am.error("".concat(n("common_error")));case 21:return e.prev=21,_(!1),e.finish(21);case 24:e.next=31;break;case 26:d={},p=(0,a.Z)(i.details);try{for(p.s();!(h=p.n()).done;)b=h.value,d[b.path[0]]=b.message}catch(l){p.e(l)}finally{p.f()}E((0,t.Z)((0,t.Z)({},V),d)),_(!1);case 31:case"end":return e.stop()}}),e,null,[[9,17,21,24]])})));return function(r){return e.apply(this,arguments)}}(),R=function(){var a=(0,u.Z)((0,o.Z)().mark((function a(l){return(0,o.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(B){a.next=2;break}return a.abrupt("return");case 2:return l.preventDefault(),a.prev=3,a.next=6,g.tO.deleteAdmin(r);case 6:m.Am.success(n("common_success")),e.replace("/law-admin/admin/all"),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(3),console.log(a.t0),m.Am.error("".concat(n("common_error")));case 14:return a.prev=14,_(!1),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[3,10,14,17]])})));return function(e){return a.apply(this,arguments)}}();return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"shadow sm:rounded-lg bg-white p-4 mt-8 mb-5 row g-3",children:[(0,Z.jsx)("div",{className:"grid justify-end",children:(0,Z.jsx)(b.kV,{label:"Enable Update Mode",id:"formSwitchCheckDefault",onChange:function(){P(!B),A(F)}})}),(0,Z.jsx)(j.u_,{modalVisible:U,setModalVisible:W,successCallback:R,successLabel:n("remove"),title:n("remove_admin"),body:n("are_you_sure_you_want_to_remove")}),(0,Z.jsxs)("div",{className:"row g-3",children:[(0,C.dM)({label:n("full_name"),name:"fullName",value:S.fullName,onChange:J,error:V.fullName,uppercase:!0,required:!1,readOnly:!B}),(0,C.dM)({label:n("email_address"),name:"email",value:S.email,onChange:J,error:V.email,uppercase:!0,required:!1,readOnly:!B}),(0,C.dM)({label:n("date_of_birth"),name:"dob",value:(0,N.d)(S.dob),onChange:J,error:V.dob,uppercase:!0,required:!1,readOnly:!B,mdSize:6,type:"date"}),B?(0,Z.jsx)(C.sA,{label:n("phone_number"),name:"phoneNumber",value:S.phoneNumber,onChange:function(e){delete V.phoneNumber,A((0,t.Z)((0,t.Z)({},S),{},{phoneNumber:e}))},error:V.phoneNumber,uppercase:!0,mdSize:6}):(0,Z.jsx)(C.dM,{label:n("phone_number"),name:"phoneNumber",value:S.phoneNumber,uppercase:!0,required:!1,readOnly:!B,mdSize:6}),B?(0,C.Tz)({label:n("country"),name:"country",value:S.country,onChange:J,error:V.country,uppercase:!0,required:!1,readOnly:!B,options:N.n,mdSize:6}):(0,C.dM)({label:n("country"),name:"country",value:S.country,onChange:J,error:V.country,uppercase:!0,required:!1,readOnly:!B,mdSize:6})]}),(0,Z.jsxs)("div",{className:"flex justify-end",hidden:!B,children:[(0,Z.jsx)("div",{className:"justify-end",children:(0,Z.jsx)(b.u5,{color:"primary",variant:"outline",className:"mr-2",onClick:Q,children:n("update")})}),(0,Z.jsx)("div",{className:"justify-end",children:(0,Z.jsx)(b.u5,{color:"danger",variant:"outline",className:"mr-2",onClick:function(){return W(!0)},children:n("remove")})})]})]})})};var w={fullName:"",email:"",phoneNumber:"",country:""}}}]);
//# sourceMappingURL=190.4112bd6f.chunk.js.map