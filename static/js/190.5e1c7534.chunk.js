"use strict";(self.webpackChunkLaw_web_app=self.webpackChunkLaw_web_app||[]).push([[190],{6451:function(e,r,a){a.d(r,{Tz:function(){return i},dM:function(){return s},sA:function(){return u}});var n=a(4942),l=(a(29867),a(4904)),t=(a(68803),a(10444)),o=a(92834);function s(e){var r=e.label,a=e.name,n=e.placeholder,t=e.value,s=e.onChange,u=e.error,i=e.readOnly,c=void 0!==i&&i,d=e.mdSize,m=void 0===d?12:d,p=e.type,h=void 0===p?"text":p,b=e.required,v=void 0===b||b,f=e.multiple,x=void 0===f||f,y=e.uppercase,g=void 0!==y&&y,N=e.inputClassName,j=void 0===N?"":N;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.b7,{className:"mb-3",xs:12,md:m,children:[(0,o.jsx)(l.L8,{htmlFor:a,className:g?"uppercase":"",children:"".concat(r).concat(v?"*":"")}),(0,o.jsx)(l.jO,{disabled:c,type:h,className:"!bg-white ".concat(j),readOnly:c,id:a,name:a,onChange:s,value:t,invalid:!!u,placeholder:n,multiple:x}),(0,o.jsx)(l.CO,{invalid:!0,children:u})]})})}function u(e){var r,a=e.label,s=e.name,u=(e.placeholder,e.value),i=e.onChange,c=e.error,d=e.readOnly,m=void 0!==d&&d,p=e.mdSize,h=void 0===p?12:p,b=e.required,v=void 0===b||b,f=(e.multiple,e.uppercase),x=void 0!==f&&f;e.inputClassName;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.b7,{className:"mb-3",xs:12,md:h,children:[(0,o.jsx)(l.L8,{htmlFor:s,className:x?"uppercase":"",children:"".concat(a).concat(v?"*":"")}),(0,o.jsx)(t.ZP,{name:s,value:u,onChange:i,defaultCountry:"LK",readOnly:m,style:(r={width:"100%",borderColor:"red",padding:"15px",marginBottom:"4px",height:40,borderWidth:"1px",borderStyle:"solid"},(0,n.Z)(r,"borderColor",c?"red":"#ced4da"),(0,n.Z)(r,"backgroundColor","#fff"),r)}),(0,o.jsx)("p",{className:"text-red-400 text-sm",children:c})]})})}function i(e){var r=e.label,a=e.name,n=(e.placeholder,e.onChange),t=e.error,s=e.mdSize,u=void 0===s?12:s,i=e.required,c=void 0===i||i,d=e.uppercase,m=void 0!==d&&d,p=e.inputClassName,h=void 0===p?"":p,b=e.options,v=e.value,f=e.defaultValue,x=e.readOnly;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.b7,{className:"mb-3",xs:12,md:u,children:[(0,o.jsx)(l.L8,{htmlFor:a,className:m?"uppercase":"",children:"".concat(r).concat(c?"*":"")}),(0,o.jsxs)(l.LX,{className:"!bg-white ".concat(h),name:a,defaultValue:f,onChange:n,"aria-label":"Default select example",invalid:!!t,value:v,disabled:x,children:[(0,o.jsx)("option",{children:"Open this select menu"}),b.map((function(e,r){return(0,o.jsx)("option",{value:e.value,children:e.label},r)}))]}),(0,o.jsx)(l.CO,{invalid:!0,children:t})]})})}},77190:function(e,r,a){a.r(r);var n=a(37762),l=a(45987),t=a(4942),o=a(1413),s=a(74165),u=a(15861),i=a(29439),c=a(29867),d=(a(22030),a(84669)),m=a(69711),p=a(52506),h=a.n(p),b=a(4904),v=a(58730),f=a.n(v),x=a(20602),y=a(10444),g=a(25087),N=a(74688),j=a(57660),Z=a(6451),C=a(92834),w=["dob"];r.default=function(){var e=(0,d.k6)(),r=(0,d.TH)().state.userID,a=(0,x.$)().t,p=(0,c.useState)(!1),v=(0,i.Z)(p,2),k=v[0],O=v[1],S=(0,c.useState)(_),z=(0,i.Z)(S,2),A=z[0],q=z[1],F=(0,c.useState)(_),L=(0,i.Z)(F,2),M=L[0],D=L[1],V=(0,c.useState)({}),E=(0,i.Z)(V,2),I=E[0],T=E[1],B=(0,c.useState)(!1),P=(0,i.Z)(B,2),U=P[0],H=P[1],K=(0,c.useState)(!1),W=(0,i.Z)(K,2),X=W[0],$=W[1],G=(0,c.useState)(!1),J=(0,i.Z)(G,2);J[0],J[1];(0,c.useEffect)((function(){var e=!0,n=function(){var n=(0,u.Z)((0,s.Z)().mark((function n(){var l;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,O(!0),n.next=4,g.tO.getUserByID(r);case 4:(l=n.sent)&&e?(q(l),D(l)):m.Am.error(a("common_error")),O(!1),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),O(!1),m.Am.error(a("common_error"));case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){return e=!1}}),[]);var Q=h().object({fullName:h().string().optional().label("Full name"),country:h().string().optional().label("Country"),dob:h().date().optional().allow("").label("Date of birth").max("now"),email:h().string().email({tlds:{allow:!1}}).optional().allow("").label("Email"),phoneNumber:h().string().optional().label("Phone number")}),R=function(e){var r=e.target,a=r.name,n=r.value;r.files;delete I[a],q((0,o.Z)((0,o.Z)({},A),{},(0,t.Z)({},a,n)))},Y=function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var u,i,c,d,p,h,b,v,x;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:if(u=f().pick(A,["fullName","country","email","phoneNumber","dob"]),O(!0),i=Q.validate(u,{abortEarly:!1}),c=i.error,i.value,d=!1,""==A.phoneNumber||(0,y.tm)(A.phoneNumber)||(O(!1),T((0,o.Z)((0,o.Z)({},I),{},{phoneNumber:"Invalid phone number"})),d=!0),c||d){e.next=26;break}return e.prev=8,u.dob,p=(0,l.Z)(u,w),e.next=12,g.tO.updateAdmin(r,(0,o.Z)((0,o.Z)({},p),{},{dob:new Date(u.dob)}));case 12:D(u),q(u),m.Am.success(a("common_success")),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0),m.Am.error("".concat(a("common_error")));case 21:return e.prev=21,O(!1),e.finish(21);case 24:e.next=31;break;case 26:h={},b=(0,n.Z)(c.details);try{for(b.s();!(v=b.n()).done;)x=v.value,h[x.path[0]]=x.message}catch(t){b.e(t)}finally{b.f()}T((0,o.Z)((0,o.Z)({},I),h)),O(!1);case 31:case"end":return e.stop()}}),e,null,[[8,17,21,24]])})));return function(r){return e.apply(this,arguments)}}(),ee=function(){var n=(0,u.Z)((0,s.Z)().mark((function n(l){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(U){n.next=2;break}return n.abrupt("return");case 2:return l.preventDefault(),n.prev=3,n.next=6,g.tO.deleteAdmin(r);case 6:m.Am.success(a("common_success")),e.replace("/law-admin/admin/all"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(3),console.log(n.t0),m.Am.error("".concat(a("common_error")));case 14:return n.prev=14,O(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[3,10,14,17]])})));return function(e){return n.apply(this,arguments)}}();return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"shadow sm:rounded-lg bg-white p-4 mt-8 mb-5 row g-3",children:[(0,C.jsx)("div",{className:"grid justify-end",children:(0,C.jsx)(b.kV,{label:"Enable Update Mode",id:"formSwitchCheckDefault",onChange:function(){H(!U),q(M)}})}),(0,C.jsx)(j.u_,{modalVisible:X,setModalVisible:$,successCallback:ee,successLabel:a("remove"),title:a("remove_admin"),body:a("are_you_sure_you_want_to_remove")}),(0,C.jsxs)("div",{className:"row g-3",children:[(0,Z.dM)({label:a("full_name"),name:"fullName",value:A.fullName,onChange:R,error:I.fullName,uppercase:!0,required:!1,readOnly:!U}),(0,Z.dM)({label:a("email_address"),name:"email",value:A.email,onChange:R,error:I.email,uppercase:!0,required:!1,readOnly:!U}),(0,Z.dM)({label:a("date_of_birth"),name:"dob",value:(0,N.d)(A.dob),onChange:R,error:I.dob,uppercase:!0,required:!1,readOnly:!U,mdSize:6,type:"date"}),U?(0,C.jsx)(Z.sA,{label:a("phone_number"),name:"phoneNumber",value:A.phoneNumber,onChange:function(e){delete I.phoneNumber,q((0,o.Z)((0,o.Z)({},A),{},{phoneNumber:e}))},error:I.phoneNumber,uppercase:!0,mdSize:6}):(0,C.jsx)(Z.dM,{label:a("phone_number"),name:"phoneNumber",value:A.phoneNumber,uppercase:!0,required:!1,readOnly:!U,mdSize:6}),U?(0,Z.Tz)({label:a("country"),name:"country",value:A.country,onChange:R,error:I.country,uppercase:!0,required:!1,readOnly:!U,options:N.n,mdSize:6}):(0,Z.dM)({label:a("country"),name:"country",value:A.country,onChange:R,error:I.country,uppercase:!0,required:!1,readOnly:!U,mdSize:6})]}),(0,C.jsxs)("div",{className:"flex justify-end",hidden:!U,children:[(0,C.jsx)("div",{className:"justify-end",children:(0,C.jsx)(b.u5,{disabled:k,color:"primary",variant:"outline",className:"mr-2",onClick:Y,children:a("update")})}),(0,C.jsx)("div",{className:"justify-end",children:(0,C.jsx)(b.u5,{disabled:k,color:"danger",variant:"outline",className:"mr-2",onClick:function(){return $(!0)},children:a("remove")})})]})]})})};var _={fullName:"",email:"",phoneNumber:"",country:""}}}]);
//# sourceMappingURL=190.5e1c7534.chunk.js.map