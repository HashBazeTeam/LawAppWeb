"use strict";(self.webpackChunkLaw_web_app=self.webpackChunkLaw_web_app||[]).push([[48],{6451:function(e,a,r){r.d(a,{Tz:function(){return u},dM:function(){return i},sA:function(){return o}});var n=r(4942),l=(r(29867),r(4904)),t=(r(68803),r(10444)),s=r(92834);function i(e){var a=e.label,r=e.name,n=e.placeholder,t=e.value,i=e.onChange,o=e.error,u=e.readOnly,d=void 0!==u&&u,c=e.mdSize,m=void 0===c?12:c,p=e.type,h=void 0===p?"text":p,b=e.required,v=void 0===b||b,f=e.multiple,x=void 0===f||f,g=e.uppercase,N=void 0!==g&&g,j=e.inputClassName,y=void 0===j?"":j;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(l.b7,{className:"mb-3",xs:12,md:m,children:[(0,s.jsx)(l.L8,{htmlFor:r,className:N?"uppercase":"",children:"".concat(a).concat(v?"*":"")}),(0,s.jsx)(l.jO,{disabled:d,type:h,className:"!bg-white ".concat(y),readOnly:d,id:r,name:r,onChange:i,value:t,invalid:!!o,placeholder:n,multiple:x}),(0,s.jsx)(l.CO,{invalid:!0,children:o})]})})}function o(e){var a,r=e.label,i=e.name,o=(e.placeholder,e.value),u=e.onChange,d=e.error,c=e.readOnly,m=void 0!==c&&c,p=e.mdSize,h=void 0===p?12:p,b=e.required,v=void 0===b||b,f=(e.multiple,e.uppercase),x=void 0!==f&&f;e.inputClassName;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(l.b7,{className:"mb-3",xs:12,md:h,children:[(0,s.jsx)(l.L8,{htmlFor:i,className:x?"uppercase":"",children:"".concat(r).concat(v?"*":"")}),(0,s.jsx)(t.ZP,{name:i,value:o,onChange:u,defaultCountry:"LK",readOnly:m,style:(a={width:"100%",borderColor:"red",padding:"15px",marginBottom:"4px",height:40,borderWidth:"1px",borderStyle:"solid"},(0,n.Z)(a,"borderColor",d?"red":"#ced4da"),(0,n.Z)(a,"backgroundColor","#fff"),a)}),(0,s.jsx)("p",{className:"text-red-400 text-sm",children:d})]})})}function u(e){var a=e.label,r=e.name,n=(e.placeholder,e.onChange),t=e.error,i=e.mdSize,o=void 0===i?12:i,u=e.required,d=void 0===u||u,c=e.uppercase,m=void 0!==c&&c,p=e.inputClassName,h=void 0===p?"":p,b=e.options,v=e.value,f=e.defaultValue,x=e.readOnly;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(l.b7,{className:"mb-3",xs:12,md:o,children:[(0,s.jsx)(l.L8,{htmlFor:r,className:m?"uppercase":"",children:"".concat(a).concat(d?"*":"")}),(0,s.jsxs)(l.LX,{className:"!bg-white ".concat(h),name:r,defaultValue:f,onChange:n,"aria-label":"Default select example",invalid:!!t,value:v,disabled:x,children:[(0,s.jsx)("option",{children:"Open this select menu"}),b.map((function(e,a){return(0,s.jsx)("option",{value:e.value,children:e.label},a)}))]}),(0,s.jsx)(l.CO,{invalid:!0,children:t})]})})}},29048:function(e,a,r){r.r(a);var n=r(74165),l=r(37762),t=r(15861),s=r(4942),i=r(1413),o=r(29439),u=r(29867),d=r(69711),c=r(52506),m=r.n(c),p=r(20602),h=r(10444),b=r(74688),v=r(6451),f=r(25087),x=r(4904),g=r(92834);a.default=function(){var e=(0,p.$)().t,a=(0,u.useState)(N),r=(0,o.Z)(a,2),c=r[0],j=r[1],y=(0,u.useState)({}),C=(0,o.Z)(y,2),Z=C[0],w=C[1],S=(0,u.useState)([]),k=(0,o.Z)(S,2),O=k[0],_=k[1],z=(0,u.useState)(!1),q=(0,o.Z)(z,2),F=q[0],L=q[1];(0,u.useEffect)((function(){_(b.n)}),[]);var A=m().object({fullName:m().string().required().label("Full name"),country:m().string().required().label("Country"),dob:m().date().required().label("Date of birth").max("now"),email:m().string().email({tlds:{allow:!1}}).required().label("Email"),phoneNumber:m().string().required().label("Phone Number")}),P=function(e){var a=e.target,r=a.name,n=a.value;a.files;delete Z[r],j((0,i.Z)((0,i.Z)({},c),{},(0,s.Z)({},r,n)))},M=function(){var a=(0,t.Z)((0,n.Z)().mark((function a(r){var t,s,o,u,m,p,b,v;return(0,n.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(L(!0),t=A.validate(c,{abortEarly:!1}),s=t.error,o=t.value,u=!1,(0,h.tm)(c.phoneNumber)||(L(!1),w((0,i.Z)((0,i.Z)({},Z),{},{phoneNumber:"Invalid phone number"})),u=!0),s||u){a.next=27;break}return a.prev=5,a.next=8,f.tO.getAdminByPhoneNumber(c.phoneNumber);case 8:if(!a.sent){a.next=13;break}return L(!1),w((0,i.Z)((0,i.Z)({},Z),{},{phoneNumber:"Phone number already exists"})),a.abrupt("return");case 13:return a.next=15,f.tO.addAdmin(o);case 15:d.Am.success(e("common_success")),j(N),a.next=22;break;case 19:a.prev=19,a.t0=a.catch(5),d.Am.error("Something went wrong. Please try again later.");case 22:return a.prev=22,L(!1),a.finish(22);case 25:a.next=32;break;case 27:m={},p=(0,l.Z)(s.details);try{for(p.s();!(b=p.n()).done;)v=b.value,m[v.path[0]]=v.message}catch(r){p.e(r)}finally{p.f()}w((0,i.Z)((0,i.Z)({},Z),m)),L(!1);case 32:case"end":return a.stop()}}),a,null,[[5,19,22,25]])})));return function(e){return a.apply(this,arguments)}}();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"shadow sm:rounded-lg bg-white p-4 mb-5 row g-3 mt-8",children:[(0,g.jsxs)("div",{className:"row g-3",children:[(0,g.jsx)(v.dM,{label:e("full_name"),name:"fullName",value:c.fullName,onChange:P,error:Z.fullName,uppercase:!0}),(0,g.jsx)(v.dM,{label:e("email_address"),name:"email",value:c.email,onChange:P,error:Z.email,uppercase:!0,mdSize:6}),(0,g.jsx)(v.Tz,{label:e("country"),name:"country",value:c.country,onChange:P,error:Z.country,uppercase:!0,mdSize:6,options:O}),(0,g.jsx)(v.sA,{label:e("phone_number"),name:"phoneNumber",value:c.phoneNumber,onChange:function(e){delete Z.phoneNumber,j((0,i.Z)((0,i.Z)({},c),{},{phoneNumber:e}))},error:Z.phoneNumber,uppercase:!0,mdSize:6}),(0,g.jsx)(v.dM,{label:e("date_of_birth"),name:"dob",value:c.dob,onChange:P,error:Z.dob,uppercase:!0,mdSize:6,type:"date"})]}),(0,g.jsx)("div",{className:"grid justify-end",children:(0,g.jsxs)(x.u5,{color:"primary",variant:"outline",className:"mr-2",onClick:M,disabled:F,children:[" ","Submit"," "]})})]})})};var N={fullName:"",email:"",phoneNumber:"",country:"",dob:""}}}]);
//# sourceMappingURL=48.7c0b912c.chunk.js.map