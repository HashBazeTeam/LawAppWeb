"use strict";(self.webpackChunkLaw_web_app=self.webpackChunkLaw_web_app||[]).push([[956],{6451:function(e,r,a){a.d(r,{Tz:function(){return i},dM:function(){return s},sA:function(){return u}});var n=a(4942),l=(a(29867),a(4904)),t=(a(68803),a(10444)),o=a(92834);function s(e){var r=e.label,a=e.name,n=e.placeholder,t=e.value,s=e.onChange,u=e.error,i=e.readOnly,c=void 0!==i&&i,d=e.mdSize,m=void 0===d?12:d,p=e.type,h=void 0===p?"text":p,b=e.required,v=void 0===b||b,f=e.multiple,x=void 0===f||f,N=e.uppercase,g=void 0!==N&&N,y=e.inputClassName,j=void 0===y?"":y;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.b7,{className:"mb-3",xs:12,md:m,children:[(0,o.jsx)(l.L8,{htmlFor:a,className:g?"uppercase":"",children:"".concat(r).concat(v?"*":"")}),(0,o.jsx)(l.jO,{disabled:c,type:h,className:"!bg-white ".concat(j),readOnly:c,id:a,name:a,onChange:s,value:t,invalid:!!u,placeholder:n,multiple:x}),(0,o.jsx)(l.CO,{invalid:!0,children:u})]})})}function u(e){var r,a=e.label,s=e.name,u=(e.placeholder,e.value),i=e.onChange,c=e.error,d=e.readOnly,m=void 0!==d&&d,p=e.mdSize,h=void 0===p?12:p,b=e.required,v=void 0===b||b,f=(e.multiple,e.uppercase),x=void 0!==f&&f;e.inputClassName;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.b7,{className:"mb-3",xs:12,md:h,children:[(0,o.jsx)(l.L8,{htmlFor:s,className:x?"uppercase":"",children:"".concat(a).concat(v?"*":"")}),(0,o.jsx)(t.ZP,{name:s,value:u,onChange:i,defaultCountry:"LK",readOnly:m,style:(r={width:"100%",borderColor:"red",padding:"15px",marginBottom:"4px",height:40,borderWidth:"1px",borderStyle:"solid"},(0,n.Z)(r,"borderColor",c?"red":"#ced4da"),(0,n.Z)(r,"backgroundColor","#fff"),r)}),(0,o.jsx)("p",{className:"text-red-400 text-sm",children:c})]})})}function i(e){var r=e.label,a=e.name,n=(e.placeholder,e.onChange),t=e.error,s=e.mdSize,u=void 0===s?12:s,i=e.required,c=void 0===i||i,d=e.uppercase,m=void 0!==d&&d,p=e.inputClassName,h=void 0===p?"":p,b=e.options,v=e.value,f=e.defaultValue;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.b7,{className:"mb-3",xs:12,md:u,children:[(0,o.jsx)(l.L8,{htmlFor:a,className:m?"uppercase":"",children:"".concat(r).concat(c?"*":"")}),(0,o.jsxs)(l.LX,{className:"!bg-white ".concat(h),name:a,defaultValue:f,onChange:n,"aria-label":"Default select example",invalid:!!t,value:v,children:[(0,o.jsx)("option",{children:"Open this select menu"}),b.map((function(e,r){return(0,o.jsx)("option",{value:e.value,children:e.label},r)}))]}),(0,o.jsx)(l.CO,{invalid:!0,children:t})]})})}},34956:function(e,r,a){a.r(r);var n=a(74165),l=a(37762),t=a(15861),o=a(4942),s=a(1413),u=a(29439),i=a(29867),c=a(22030),d=a(84669),m=a(69711),p=a(52506),h=a.n(p),b=a(4904),v=a(58730),f=a.n(v),x=a(20602),N=a(10444),g=a(83692),y=a(25087),j=a(74688),Z=a(20716),C=(a(57660),a(6451)),w=a(92834);r.default=function(){(0,c.I0)(),(0,d.k6)();var e=(0,x.$)().t,r=(0,c.v9)(Z.wl.user.selectUserData),a=(0,i.useState)(!1),p=(0,u.Z)(a,2),v=(p[0],p[1]),k=(0,i.useState)(r),S=(0,u.Z)(k,2),_=S[0],O=S[1],z=(0,i.useState)(r),q=(0,u.Z)(z,2),F=q[0],A=q[1],L=(0,i.useState)({}),M=(0,u.Z)(L,2),D=M[0],I=M[1],E=(0,i.useState)(!1),P=(0,u.Z)(E,2),U=P[0],V=P[1],T=(0,i.useState)(!1),$=(0,u.Z)(T,2),B=($[0],$[1],(0,i.useState)({})),J=(0,u.Z)(B,2),K=(J[0],J[1]),W=(0,i.useState)(!1),X=(0,u.Z)(W,2);X[0],X[1];(0,i.useEffect)((function(){O(r),A(r)}),[r]);var G=h().object({fullName:h().string().optional().label("Full name"),country:h().string().optional().label("Country"),dob:h().date().optional().allow("").label("Date of birth").max("now"),email:h().string().email({tlds:{allow:!1}}).optional().allow("").label("Email"),phoneNumber:h().string().optional().label("Phone number")}),H=function(e){var r=e.target,a=r.name,n=r.value;r.files;delete D[a],O((0,s.Z)((0,s.Z)({},_),{},(0,o.Z)({},a,n)))},Q=function(){var a=(0,t.Z)((0,n.Z)().mark((function a(t){var o,u,i,c,d,p,h,b;return(0,n.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(U){a.next=2;break}return a.abrupt("return");case 2:if(o=f().pick(_,["fullName","country","email","phoneNumber","dob"]),v(!0),u=G.validate(o,{abortEarly:!1}),i=u.error,u.value,c=!1,""==_.phoneNumber||(0,N.tm)(_.phoneNumber)||(v(!1),I((0,s.Z)((0,s.Z)({},D),{},{phoneNumber:"Invalid phone number"})),c=!0),i||c){a.next=25;break}return a.prev=8,a.next=11,y.tO.updateAdmin(r.userID,o);case 11:A(o),O(o),m.Am.success(e("common_success")),a.next=20;break;case 16:a.prev=16,a.t0=a.catch(8),console.log(a.t0),m.Am.error("".concat(e("common_error")));case 20:return a.prev=20,v(!1),a.finish(20);case 23:a.next=30;break;case 25:d={},p=(0,l.Z)(i.details);try{for(p.s();!(h=p.n()).done;)b=h.value,d[b.path[0]]=b.message}catch(n){p.e(n)}finally{p.f()}I((0,s.Z)((0,s.Z)({},D),d)),v(!1);case 30:case"end":return a.stop()}}),a,null,[[8,16,20,23]])})));return function(e){return a.apply(this,arguments)}}(),R=function(){var r=(0,t.Z)((0,n.Z)().mark((function r(){var a,l,t,o;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(U){r.next=2;break}return r.abrupt("return");case 2:return v(!0),r.prev=3,a=(0,g.JO)(),K(a),r.next=8,(0,g.$g)(g.I8,_.phoneNumber,a);case 8:return l=r.sent,console.log(l),r.next=12,l.confirm(_.otp);case 12:if(t=r.sent,!(o=g.I8.currentUser)){r.next=18;break}return r.next=17,o.updatePhoneNumber(t);case 17:return r.abrupt("return",r.sent);case 18:A((0,s.Z)((0,s.Z)({},F),{},{phoneNumber:_.phoneNumber})),m.Am.success(e("common_success")),r.next=26;break;case 22:r.prev=22,r.t0=r.catch(3),console.log(r.t0),m.Am.error("".concat(e("common_error")));case 26:return r.prev=26,v(!1),r.finish(26);case 29:case"end":return r.stop()}}),r,null,[[3,22,26,29]])})));return function(){return r.apply(this,arguments)}}();return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"shadow sm:rounded-lg bg-white p-4 mt-2 mb-5 row g-3",children:[(0,w.jsx)("div",{className:"grid justify-end",children:(0,w.jsx)(b.kV,{label:"Enable Update Mode",id:"formSwitchCheckDefault",onChange:function(){V(!U),O(F)}})}),(0,w.jsxs)("div",{className:"row g-3",children:[(0,C.dM)({label:e("full_name"),name:"fullName",value:_.fullName,onChange:H,error:D.fullName,uppercase:!0,required:!1,readOnly:!U}),(0,C.dM)({label:e("email_address"),name:"email",value:_.email,onChange:H,error:D.email,uppercase:!0,required:!1,readOnly:!U}),(0,C.dM)({label:e("date_of_birth"),name:"dob",value:(0,j.d)(_.dob),onChange:H,error:D.dob,uppercase:!0,required:!1,readOnly:!U,mdSize:6,type:"date"}),U?(0,C.Tz)({label:e("country"),name:"country",value:_.country,onChange:H,error:D.country,uppercase:!0,required:!1,readOnly:!U,options:j.n,mdSize:6}):(0,C.dM)({label:e("country"),name:"country",value:_.country,onChange:H,error:D.country,uppercase:!0,required:!1,readOnly:!U,mdSize:6})]}),(0,w.jsx)("div",{className:"flex justify-end",hidden:!U,children:(0,w.jsx)("div",{className:"justify-end",children:(0,w.jsx)(b.u5,{color:"primary",variant:"outline",className:"mr-2",onClick:Q,children:e("update_profile")})})}),(0,w.jsx)("div",{className:"row g-3",children:U?(0,w.jsx)(C.sA,{label:e("phone_number"),name:"phoneNumber",value:_.phoneNumber,onChange:function(e){delete D.phoneNumber,O((0,s.Z)((0,s.Z)({},_),{},{phoneNumber:e}))},error:D.phoneNumber,uppercase:!0,mdSize:6}):(0,w.jsx)(C.dM,{label:e("phone_number"),name:"phoneNumber",value:_.phoneNumber,uppercase:!0,required:!1,readOnly:!U,mdSize:6})}),(0,w.jsx)("div",{className:"flex justify-end",hidden:!U,children:(0,w.jsx)("div",{className:"justify-end",children:(0,w.jsx)(b.u5,{color:"primary",variant:"outline",className:"mr-2",onClick:R,children:e("update_phone_number")})})})]})})}}}]);
//# sourceMappingURL=956.1cf5bfd5.chunk.js.map