"use strict";(self.webpackChunkLaw_web_app=self.webpackChunkLaw_web_app||[]).push([[956],{6451:function(e,a,r){r.d(a,{Tz:function(){return s},dM:function(){return i},sA:function(){return u}});var n=r(4942),l=(r(29867),r(4904)),o=(r(68803),r(10444)),t=r(92834);function i(e){var a=e.label,r=e.name,n=e.placeholder,o=e.value,i=e.onChange,u=e.error,s=e.readOnly,c=void 0!==s&&s,d=e.mdSize,m=void 0===d?12:d,p=e.type,h=void 0===p?"text":p,b=e.required,v=void 0===b||b,f=e.multiple,x=void 0===f||f,g=e.uppercase,y=void 0!==g&&g,N=e.inputClassName,j=void 0===N?"":N;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(l.b7,{className:"mb-3",xs:12,md:m,children:[(0,t.jsx)(l.L8,{htmlFor:r,className:y?"uppercase":"",children:"".concat(a).concat(v?"*":"")}),(0,t.jsx)(l.jO,{disabled:c,type:h,className:"!bg-white ".concat(j),readOnly:c,id:r,name:r,onChange:i,value:o,invalid:!!u,placeholder:n,multiple:x}),(0,t.jsx)(l.CO,{invalid:!0,children:u})]})})}function u(e){var a,r=e.label,i=e.name,u=(e.placeholder,e.value),s=e.onChange,c=e.error,d=e.readOnly,m=void 0!==d&&d,p=e.mdSize,h=void 0===p?12:p,b=e.required,v=void 0===b||b,f=(e.multiple,e.uppercase),x=void 0!==f&&f;e.inputClassName;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(l.b7,{className:"mb-3",xs:12,md:h,children:[(0,t.jsx)(l.L8,{htmlFor:i,className:x?"uppercase":"",children:"".concat(r).concat(v?"*":"")}),(0,t.jsx)(o.ZP,{name:i,value:u,onChange:s,defaultCountry:"LK",readOnly:m,style:(a={width:"100%",borderColor:"red",padding:"15px",marginBottom:"4px",height:40,borderWidth:"1px",borderStyle:"solid"},(0,n.Z)(a,"borderColor",c?"red":"#ced4da"),(0,n.Z)(a,"backgroundColor","#fff"),a)}),(0,t.jsx)(l.CO,{invalid:!!c,children:c})]})})}function s(e){var a=e.label,r=e.name,n=(e.placeholder,e.onChange),o=e.error,i=e.mdSize,u=void 0===i?12:i,s=e.required,c=void 0===s||s,d=e.uppercase,m=void 0!==d&&d,p=e.inputClassName,h=void 0===p?"":p,b=e.options,v=e.value,f=e.defaultValue;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(l.b7,{className:"mb-3",xs:12,md:u,children:[(0,t.jsx)(l.L8,{htmlFor:r,className:m?"uppercase":"",children:"".concat(a).concat(c?"*":"")}),(0,t.jsxs)(l.LX,{className:"!bg-white ".concat(h),name:r,defaultValue:f,onChange:n,"aria-label":"Default select example",invalid:!!o,value:v,children:[(0,t.jsx)("option",{children:"Open this select menu"}),b.map((function(e,a){return(0,t.jsx)("option",{value:e.value,children:e.label},a)}))]}),(0,t.jsx)(l.CO,{invalid:!0,children:o})]})})}},34956:function(e,a,r){r.r(a);var n=r(74165),l=r(37762),o=r(15861),t=r(4942),i=r(1413),u=r(29439),s=r(29867),c=r(22030),d=r(84669),m=r(69711),p=r(52506),h=r.n(p),b=r(4904),v=r(58730),f=r.n(v),x=r(20602),g=r(10444),y=(r(83692),r(25087)),N=r(74688),j=r(20716),C=(r(57660),r(6451)),Z=r(92834);a.default=function(){(0,c.I0)(),(0,d.k6)();var e=(0,x.$)().t,a=(0,c.v9)(j.wl.user.selectUserData),r=(0,s.useState)(!1),p=(0,u.Z)(r,2),v=(p[0],p[1]),w=(0,s.useState)(a),k=(0,u.Z)(w,2),S=k[0],O=k[1],_=(0,s.useState)(a),z=(0,u.Z)(_,2),q=z[0],F=z[1],L=(0,s.useState)({}),M=(0,u.Z)(L,2),A=M[0],D=M[1],E=(0,s.useState)(!1),I=(0,u.Z)(E,2),V=I[0],P=I[1],T=(0,s.useState)(!1),U=(0,u.Z)(T,2),B=(U[0],U[1],(0,s.useState)(!1)),K=(0,u.Z)(B,2);K[0],K[1];console.log(a),(0,s.useEffect)((function(){O(a),F(a)}),[a]);var W=h().object({fullName:h().string().optional().label("Full name"),country:h().string().optional().label("Country"),dob:h().date().optional().allow("").label("Date of birth").max("now"),email:h().string().email({tlds:{allow:!1}}).optional().allow("").label("Email"),phoneNumber:h().string().optional().label("Phone number")}),X=function(e){var a=e.target,r=a.name,n=a.value;a.files;delete A[r],O((0,i.Z)((0,i.Z)({},S),{},(0,t.Z)({},r,n)))},$=function(){var r=(0,o.Z)((0,n.Z)().mark((function r(o){var t,u,s,c,d,p,h,b;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(V){r.next=2;break}return r.abrupt("return");case 2:if(t=f().pick(S,["fullName","country","email","phoneNumber","dob"]),v(!0),u=W.validate(t,{abortEarly:!1}),s=u.error,u.value,c=!1,console.log(""!=S.phoneNumber),""==S.phoneNumber||(0,g.tm)(S.phoneNumber)||(v(!1),D((0,i.Z)((0,i.Z)({},A),{},{phoneNumber:"Invalid phone number"})),c=!0),s||c){r.next=26;break}return r.prev=9,r.next=12,y.tO.updateAdmin(a.userID,t);case 12:F(t),O(t),m.Am.success(e("common_success")),r.next=21;break;case 17:r.prev=17,r.t0=r.catch(9),console.log(r.t0),m.Am.error("".concat(e("common_error")));case 21:return r.prev=21,v(!1),r.finish(21);case 24:r.next=31;break;case 26:d={},p=(0,l.Z)(s.details);try{for(p.s();!(h=p.n()).done;)b=h.value,d[b.path[0]]=b.message}catch(n){p.e(n)}finally{p.f()}D((0,i.Z)((0,i.Z)({},A),d)),v(!1);case 31:case"end":return r.stop()}}),r,null,[[9,17,21,24]])})));return function(e){return r.apply(this,arguments)}}(),G=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"shadow sm:rounded-lg bg-white p-4 mt-2 mb-5 row g-3",children:[(0,Z.jsx)("div",{className:"grid justify-end",children:(0,Z.jsx)(b.kV,{label:"Enable Update Mode",id:"formSwitchCheckDefault",onChange:function(){P(!V),O(q)}})}),(0,Z.jsxs)("div",{className:"row g-3",children:[(0,C.dM)({label:e("full_name"),name:"fullName",value:S.fullName,onChange:X,error:A.fullName,uppercase:!0,required:!1,readOnly:!V}),(0,C.dM)({label:e("email_address"),name:"email",value:S.email,onChange:X,error:A.email,uppercase:!0,required:!1,readOnly:!V}),(0,C.dM)({label:e("date_of_birth"),name:"dob",value:(0,N.d)(S.dob),onChange:X,error:A.dob,uppercase:!0,required:!1,readOnly:!V,mdSize:6,type:"date"}),V?(0,Z.jsx)(C.sA,{label:e("phone_number"),name:"phoneNumber",value:S.phoneNumber,onChange:function(e){delete A.phoneNumber,O((0,i.Z)((0,i.Z)({},S),{},{phoneNumber:e}))},error:A.phoneNumber,uppercase:!0,mdSize:6}):(0,Z.jsx)(C.dM,{label:e("phone_number"),name:"phoneNumber",value:S.phoneNumber,uppercase:!0,required:!1,readOnly:!V,mdSize:6}),V?(0,C.Tz)({label:e("country"),name:"country",value:S.country,onChange:X,error:A.country,uppercase:!0,required:!1,readOnly:!V,options:N.n,mdSize:6}):(0,C.dM)({label:e("country"),name:"country",value:S.country,onChange:X,error:A.country,uppercase:!0,required:!1,readOnly:!V,mdSize:6})]}),(0,Z.jsx)("div",{className:"flex justify-end",hidden:!V,children:(0,Z.jsxs)("div",{className:"justify-end",children:[(0,Z.jsx)(b.u5,{color:"primary",variant:"outline",className:"mr-2",onClick:$,children:e("update")}),(0,Z.jsx)(b.u5,{color:"primary",variant:"outline",className:"mr-2",onClick:G,children:e("update_phone_number")})]})})]})})}}}]);
//# sourceMappingURL=956.aac7b518.chunk.js.map